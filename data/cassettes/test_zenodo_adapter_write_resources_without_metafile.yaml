interactions:
- request:
    body: '{}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.28.1
    method: POST
    uri: https://zenodo.org/api//deposit/depositions
  response:
    body:
      string: '{"conceptrecid":"7373764","created":"2022-11-28T18:07:08.895815+00:00","files":[],"id":7373765,"links":{"bucket":"https://zenodo.org/api/files/392871aa-9b07-42f9-8a4e-85cddbd877ae","discard":"https://zenodo.org/api/deposit/depositions/7373765/actions/discard","edit":"https://zenodo.org/api/deposit/depositions/7373765/actions/edit","files":"https://zenodo.org/api/deposit/depositions/7373765/files","html":"https://zenodo.org/deposit/7373765","latest_draft":"https://zenodo.org/api/deposit/depositions/7373765","latest_draft_html":"https://zenodo.org/deposit/7373765","publish":"https://zenodo.org/api/deposit/depositions/7373765/actions/publish","self":"https://zenodo.org/api/deposit/depositions/7373765"},"metadata":{"prereserve_doi":{"doi":"10.5281/zenodo.7373765","recid":7373765}},"modified":"2022-11-28T18:07:08.895827+00:00","owner":405552,"record_id":7373765,"state":"unsubmitted","submitted":false,"title":""}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - Content-Type, ETag, Link, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
      Content-Length:
      - '920'
      Content-Type:
      - application/json
      Date:
      - Mon, 28 Nov 2022 18:07:09 GMT
      ETag:
      - '"0"'
      Last-Modified:
      - Mon, 28 Nov 2022 18:07:08 GMT
      Link:
      - <https://zenodo.org/api/deposit/depositions/7373765/files>; rel="files", <https://zenodo.org/api/deposit/depositions/7373765/actions/edit>;
        rel="edit", <https://zenodo.org/api/deposit/depositions/7373765>; rel="self",
        <https://zenodo.org/api/deposit/depositions/7373765/actions/publish>; rel="publish",
        <https://zenodo.org/deposit/7373765>; rel="html", <https://zenodo.org/api/deposit/depositions/7373765/actions/discard>;
        rel="discard"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '59'
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=0
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-RateLimit-Limit:
      - '100'
      X-RateLimit-Remaining:
      - '99'
      X-RateLimit-Reset:
      - '1669658889'
      X-Request-ID:
      - 0fe7b3837bd3ab6d162e432750cb7525
      X-User-ID:
      - '405552'
      X-XSS-Protection:
      - 1; mode=block
      location:
      - https://zenodo.org/api/deposit/depositions/7373765
    status:
      code: 201
      message: CREATED
- request:
    body: "{\n  \"metadata\": {\n    \"title\": \"Test Package With Meta\",\n    \"description\":
      \"This is a test package to test zenodo write function\",\n    \"publication_date\":
      \"1985-04-12T23:20:50.52Z\",\n    \"upload_type\": \"dataset\",\n    \"access_right\":
      \"open\",\n    \"creators\": [\n      {\n        \"name\": \"Test FD\",\n        \"affiliation\":
      \"OKFN\"\n      }\n    ],\n    \"keywords\": [\n      \"testdata\",\n      \"testzenodowrite\",\n
      \     \"frictionlessdata\"\n    ]\n  }\n}"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '436'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.28.1
    method: PUT
    uri: https://zenodo.org/api//deposit/depositions/7373765
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6RUW2+bMBT+K8ivg2BTKIbXTn2ZdnmItIepQo59SKwQjGzTqKvy32cbyLKp3SUV
        kbBPzvedj3N7Rlz1HAargUuBalTeuOc2RzHiGpgFb8twliWEJBldE1rjssZ0RauCkuIdxjXGzlko
        6RynQzPqzl121g6mTlNnWSm9Td2frezAoPrbQ4x8sClWEaNO9ntnf0abke/BXoC/Q6+ECng2yDQQ
        pDdVRkvCWFJtcJnkWVsllOWQ0IILsRG0LBl4KdJwpsXrbAIGZaRd3lL1Jp01pYxP94UkRiDkH5T9
        C1dgOGfhGqYJGjvooXuZYUHPCOfbuSoa2wjN2uv0/8bR/E/wHo6PoI2juyr0OXUXPDEaxk0nze5t
        jAtJjDRspbGg50mYWvkNzC/wxchA115Fi04xOoBlglnmR4RxDsY0Wm53vpxqgH4ZVqX9cDmX1vWJ
        ZHbK+ucP9598JdgB3G3t6hjdv0cnN4MCDNdymP3WO2ki92ORr3U0ML5nW4ismu6T4uiopYWoHfvw
        sZeTv4eno9LCS0AeEQTH4ThhA9T3v5YB7FrZBKcHvwE49MYLvLvDCVn5nTJo0GBAP0ITgjzPsQhe
        FRklSw5/Ntu8w2bDaW4UHhLRuEienlS0SHCekMxrk7Y7J+XL/MFfpd1FHyGIH4dOMdHYp8G7ebHG
        rSdfESVkK1/ZjtWK3pIcV+ftqI49aFTnuCiKLOh0iWp+WYHGTvrG3oybg7R+8zrr+Vy3rDPwV8mn
        HwAAAP//AwBDA9cP0QUAAA==
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - Content-Type, ETag, Link, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Mon, 28 Nov 2022 18:07:10 GMT
      ETag:
      - W/"1"
      Last-Modified:
      - Mon, 28 Nov 2022 18:07:09 GMT
      Link:
      - <https://zenodo.org/api/deposit/depositions/7373765/files>; rel="files", <https://zenodo.org/api/deposit/depositions/7373765/actions/edit>;
        rel="edit", <https://zenodo.org/api/deposit/depositions/7373765>; rel="self",
        <https://zenodo.org/api/deposit/depositions/7373765/actions/publish>; rel="publish",
        <https://zenodo.org/api/deposit/depositions/7373765/actions/registerconceptdoi>;
        rel="registerconceptdoi", <https://zenodo.org/deposit/7373765>; rel="html",
        <https://zenodo.org/api/deposit/depositions/7373765/actions/discard>; rel="discard",
        <https://zenodo.org/api/deposit/depositions/7373765/actions/newversion>; rel="newversion"
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '59'
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=0
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-RateLimit-Limit:
      - '100'
      X-RateLimit-Remaining:
      - '98'
      X-RateLimit-Reset:
      - '1669658890'
      X-Request-ID:
      - 0a376050c93ad4772d1cf57703841be8
      X-User-ID:
      - '405552'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: "--ccbf520cc11eaf74222b558efde99109\r\nContent-Disposition: form-data; name=\"filename\"\r\n\r\ndatapackage.json\r\n--ccbf520cc11eaf74222b558efde99109\r\nContent-Disposition:
      form-data; name=\"file\"; filename=\"datapackage.json\"\r\n\r\n{\n  \"name\":
      \"testing\",\n  \"title\": \"Test Package With Meta\",\n  \"description\": \"This
      is a test package to test zenodo write function\",\n  \"licenses\": [\n    {\n
      \     \"name\": \"CC-BY-4.0\",\n      \"title\": \"Creative Commons Attribution
      4.0\",\n      \"path\": \"https://creativecommons.org/licenses/by/4.0/\"\n    }\n
      \ ],\n  \"contributors\": [\n    {\n      \"title\": \"Test FD\",\n      \"role\":
      \"author\",\n      \"organization\": \"OKFN\"\n    }\n  ],\n  \"keywords\":
      [\n    \"testdata\",\n    \"testzenodowrite\",\n    \"frictionlessdata\"\n  ],\n
      \ \"created\": \"1985-04-12T23:20:50.52Z\",\n  \"resources\": [\n    {\n      \"name\":
      \"data\",\n      \"path\": \"data.csv\",\n      \"schema\": {\n        \"fields\":
      [\n          {\n            \"name\": \"id\",\n            \"type\": \"string\",\n
      \           \"constraints\": {\n              \"required\": true\n            }\n
      \         },\n          {\n            \"name\": \"name\",\n            \"type\":
      \"string\"\n          },\n          {\n            \"name\": \"description\",\n
      \           \"type\": \"string\"\n          },\n          {\n            \"name\":
      \"amount\",\n            \"type\": \"number\"\n          }\n        ],\n        \"primaryKey\":
      [\n          \"id\"\n        ]\n      }\n    },\n    {\n      \"name\": \"data2\",\n
      \     \"path\": \"data2.csv\",\n      \"schema\": {\n        \"fields\": [\n
      \         {\n            \"name\": \"parent\",\n            \"type\": \"string\"\n
      \         },\n          {\n            \"name\": \"comment\",\n            \"type\":
      \"string\"\n          }\n        ],\n        \"foreignKeys\": [\n          {\n
      \           \"fields\": [\n              \"parent\"\n            ],\n            \"reference\":
      {\n              \"resource\": \"data\",\n              \"fields\": [\n                \"id\"\n
      \             ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\r\n--ccbf520cc11eaf74222b558efde99109--\r\n"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '1945'
      Content-Type:
      - multipart/form-data; boundary=ccbf520cc11eaf74222b558efde99109
      User-Agent:
      - python-requests/2.28.1
    method: POST
    uri: https://zenodo.org/api//deposit/depositions/7373765/files
  response:
    body:
      string: '{"checksum": "3b59f2b0b88a919767e80882404af7ef", "filename": "datapackage.json",
        "filesize": 1688, "id": "36c8dc43-dcf9-4a3b-924a-36ebc80552a7", "links": {"download":
        "https://zenodo.org/api/files/392871aa-9b07-42f9-8a4e-85cddbd877ae/datapackage.json",
        "self": "https://zenodo.org/api/deposit/depositions/7373765/files/36c8dc43-dcf9-4a3b-924a-36ebc80552a7"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - Content-Type, ETag, Link, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
      Content-Length:
      - '358'
      Content-Type:
      - application/json
      Date:
      - Mon, 28 Nov 2022 18:07:11 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '59'
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=0
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-RateLimit-Limit:
      - '100'
      X-RateLimit-Remaining:
      - '97'
      X-RateLimit-Reset:
      - '1669658891'
      X-Request-ID:
      - c814c398e2535e214a58b226ee3568c8
      X-User-ID:
      - '405552'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 201
      message: CREATED
- request:
    body: "--b2931509a3964cb1861e23b2e151ad29\r\nContent-Disposition: form-data; name=\"filename\"\r\n\r\ndata/package/data.csv\r\n--b2931509a3964cb1861e23b2e151ad29\r\nContent-Disposition:
      form-data; name=\"file\"; filename=\"data.csv\"\r\n\r\nid,name,description,amount\nA3001,Taxes,Taxes
      we collect,10000.5\nA5032,Parking Fees,Parking fees we collect,2000.5\n\r\n--b2931509a3964cb1861e23b2e151ad29--\r\n"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '368'
      Content-Type:
      - multipart/form-data; boundary=b2931509a3964cb1861e23b2e151ad29
      User-Agent:
      - python-requests/2.28.1
    method: POST
    uri: https://zenodo.org/api//deposit/depositions/7373765/files
  response:
    body:
      string: '{"checksum": "c028f525f314c49ea48ed09e82292ed2", "filename": "data.csv",
        "filesize": 114, "id": "df26fad5-2332-4995-90da-ab2077947863", "links": {"download":
        "https://zenodo.org/api/files/392871aa-9b07-42f9-8a4e-85cddbd877ae/data.csv",
        "self": "https://zenodo.org/api/deposit/depositions/7373765/files/df26fad5-2332-4995-90da-ab2077947863"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - Content-Type, ETag, Link, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
      Content-Length:
      - '341'
      Content-Type:
      - application/json
      Date:
      - Mon, 28 Nov 2022 18:07:12 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '59'
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=0
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-RateLimit-Limit:
      - '100'
      X-RateLimit-Remaining:
      - '96'
      X-RateLimit-Reset:
      - '1669658892'
      X-Request-ID:
      - d54840e1df07ddccca0ddf51d7610164
      X-User-ID:
      - '405552'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 201
      message: CREATED
- request:
    body: "--2f0369185c2bbb6ed56fbdf6a710efaf\r\nContent-Disposition: form-data; name=\"filename\"\r\n\r\ndata/package/data2.csv\r\n--2f0369185c2bbb6ed56fbdf6a710efaf\r\nContent-Disposition:
      form-data; name=\"file\"; filename=\"data2.csv\"\r\n\r\nparent,comment\nA3001,comment1\nA3001,comment2\nA5032,comment3\n\r\n--2f0369185c2bbb6ed56fbdf6a710efaf--\r\n"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '316'
      Content-Type:
      - multipart/form-data; boundary=2f0369185c2bbb6ed56fbdf6a710efaf
      User-Agent:
      - python-requests/2.28.1
    method: POST
    uri: https://zenodo.org/api//deposit/depositions/7373765/files
  response:
    body:
      string: '{"checksum": "cb4a683d8eecb72c9ac9beea91fd592e", "filename": "data2.csv",
        "filesize": 60, "id": "28f11083-869e-4fb1-b7c9-fb981ea6ba65", "links": {"download":
        "https://zenodo.org/api/files/392871aa-9b07-42f9-8a4e-85cddbd877ae/data2.csv",
        "self": "https://zenodo.org/api/deposit/depositions/7373765/files/28f11083-869e-4fb1-b7c9-fb981ea6ba65"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - Content-Type, ETag, Link, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
      Content-Length:
      - '342'
      Content-Type:
      - application/json
      Date:
      - Mon, 28 Nov 2022 18:07:13 GMT
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Retry-After:
      - '59'
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=0
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - sameorigin
      X-RateLimit-Limit:
      - '100'
      X-RateLimit-Remaining:
      - '95'
      X-RateLimit-Reset:
      - '1669658893'
      X-Request-ID:
      - 6c26eeeae6cddc2002a217732c58e230
      X-User-ID:
      - '405552'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 201
      message: CREATED
version: 1
